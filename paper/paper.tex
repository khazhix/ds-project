\documentclass[sigplan]{acmart}

\usepackage{booktabs} % For formal tables
\usepackage{indentfirst}


% Copyright
\setcopyright{none}
%\setcopyright{acmcopyright}
%\setcopyright{acmlicensed}
%\setcopyright{rightsretained}
%\setcopyright{usgov}
%\setcopyright{usgovmixed}
%\setcopyright{cagov}
%\setcopyright{cagovmixed}

\settopmatter{printacmref=false} % Removes citation information below abstract
\renewcommand\footnotetextcopyrightpermission[1]{} % removes footnote with conference information in first column

\usepackage{xparse,array,booktabs}

\ExplSyntaxOn
\NewDocumentCommand{\segments}{O{1em}mm}
 {% #1 = width of cells, #2 = string, #3 = list of underlines
  \group_begin:
  \renewcommand{\arraystretch}{0}
  \fizruk_segments:n { #3 }
  \begin{tabular}[t]{ @{} *{ \tl_count:n { #2 } }{ w{c}{#1} @{} } }
  \seq_set_split:Nnn \l__fizruk_string_seq { } { #2 }
  \seq_use:Nn \l__fizruk_string_seq { & } \\
  \tl_use:N \l__fizruk_segments_tl
  \end{tabular}
  \group_end:
 }

\seq_new:N \l__fizruk_string_seq
\seq_new:N \l__fizruk_stages_seq
\tl_new:N \l__fizruk_segments_tl

\cs_new_protected:Nn \fizruk_segments:n
 {
  \tl_clear:N \l__fizruk_segments_tl
  \seq_set_split:Nnn \l__fizruk_stages_seq { ; } { #1 }
  \seq_map_function:NN \l__fizruk_stages_seq \__fizruk_segment_row:n
 }

\cs_new_protected:Nn \__fizruk_segment_row:n
 {
  \clist_map_function:nN { #1 } \__fizruk_add_segment:n
  \tl_put_right:Nn \l__fizruk_segments_tl { \morecmidrules }
 }

\cs_new_protected:Nn \__fizruk_add_segment:n
 {
  \str_if_in:nnTF { #1 } { - }
   {
    \tl_put_right:Nn \l__fizruk_segments_tl { \cmidrule(l{2pt}r{2pt}){#1} }
   }
   {
    \tl_put_right:Nn \l__fizruk_segments_tl { \cmidrule(l{2pt}r{2pt}){#1-#1} }
   }
 }

\ExplSyntaxOff

\begin{document}
\title{Purely functional palindromic trees}
%\titlenote{Produces the permission block, and
%  copyright information}
\subtitle{Fast palindromic analysis in purely functional setting}
%\subtitlenote{The full version of the author's guide is available as
%  \texttt{acmart.pdf} document}


\author{Nikolai Kudasov}
%\authornote{Project supervisor.}
\affiliation{%
  \institution{Innopolis University}
}
\email{n.kudasov@innopolis.ru}

\author{Timur Khazhiev}
\affiliation{%
  \institution{Innopolis University}
}
\email{t.khazhiev@innopolis.ru}

\begin{abstract}
  We introduce a purely functional version of
  palindromic tree (also known as EERTREE), data structure
  for palindromic analysis on strings. We show that
  this version does not require users to sacrifice
  space and time complexity. Furthermore, we introduce
  a double-ended variation with $merge$ operation and
  show that it can be performed in $\mathcal{O}(1)$
  on average, openning door for various optimisations,
  including fast parallel palindromic analysis.
\end{abstract}

%
% The code below should be generated by the tool at
% http://dl.acm.org/ccs.cfm
% Please copy and paste the code instead of the example below.
%
\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10003752.10003809.10010031</concept_id>
<concept_desc>Theory of computation~Data structures design and analysis</concept_desc>
<concept_significance>500</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Theory of computation~Data structures design and analysis}

\keywords{palidrome, eertree, purely functional, persistent}

\maketitle

\input{paper-body}

\bibliographystyle{ACM-Reference-Format}
\bibliography{paper}

\end{document}
